(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],Array(33).concat([function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(22),i=a.n(r),o=(a(33),a(17)),l=a.n(o),d=a(20),u=a(23),j=a(2),p=a(3),b=(a(35),a(36),a(37),a(38),a.p+"static/media/logout.1f2ed6dd.svg"),h=a.p+"static/media/logout_black.4fb874ec.svg";var _=function(e){var t=e.loginIn,a=e.handleLogout,s=e.savedNews,c=e.handlePopupLogin,r=e.userName;return t?Object(n.jsxs)("button",{className:s?"button__container button__container_savedNews":"button__container",onClick:a,children:[Object(n.jsx)("div",{className:"button__title",children:r}),Object(n.jsx)("img",{src:s?h:b,alt:"\u0432\u044b\u0439\u0442\u0438",className:"button__logout"})]}):Object(n.jsx)("button",{className:"button__container",onClick:c,children:Object(n.jsx)("div",{className:"button__title",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})},m=a(9);a(39);var O=function(e){var t=e.loginIn,a=e.handleSavedNewsPage,s=e.savedNews,c=e.handleMainPage;return t?Object(n.jsxs)("div",{className:"menu__container",children:[Object(n.jsx)(m.b,{exact:!0,to:"/",className:s?"menu__title menu__title_savedNews":"menu__title",activeClassName:"menu__title_active",onClick:c,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(n.jsx)(m.b,{to:"/saved-news",className:s?"menu__title menu__title_savedNews":"menu__title",activeClassName:s?"menu__title_active_savedNews":"menu__title_active",onClick:a,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"})]}):Object(n.jsx)("div",{className:"menu__title menu__title_active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})};var g=function(e){var t=e.loginIn,a=e.handleLogout,s=e.handleSavedNewsPage,c=e.savedNews,r=e.handleMainPage,i=e.handlePopupLogin,o=e.openBurger,l=e.userName;return"/saved-news"===Object(p.g)().pathname?Object(n.jsxs)("nav",{className:o?"navigation__burger navigation__burger_saved":"navigation",children:[Object(n.jsx)(O,{loginIn:t,handleSavedNewsPage:s,savedNews:c,handleMainPage:r}),Object(n.jsx)(_,{loginIn:t,handleLogout:a,savedNews:c,handlePopupLogin:i,userName:l})]}):Object(n.jsxs)("nav",{className:o?"navigation__burger":"navigation",children:[Object(n.jsx)(O,{loginIn:t,handleSavedNewsPage:s,savedNews:c,handleMainPage:r}),Object(n.jsx)(_,{loginIn:t,handleLogout:a,savedNews:c,handlePopupLogin:i,userName:l})]})};var v=function(e){var t=e.loginIn,a=e.handleLogout,s=e.handleSavedNewsPage,c=e.savedNews,r=e.handleMainPage,i=e.handlePopupLogin,o=e.isOpenLogin,l=e.isOpenRegister,d=e.handleClickMenu,u=e.openBurger,j=e.userName;return"/saved-news"===Object(p.g)().pathname?Object(n.jsxs)("header",{className:u?" header header__savedNews":"header header__savedNews",style:o||l?{backgroundColor:"transparent"}:{display:"flex"},children:[Object(n.jsx)("h2",{className:"header__title",children:"NewsExplorer"}),Object(n.jsx)(g,{loginIn:t,handleLogout:a,handleSavedNewsPage:s,savedNews:c,handleMainPage:r,handlePopupLogin:i,openBurger:u,userName:j}),Object(n.jsx)("div",{className:u?"header__burger_active header__burger header__burger_saved":"header__burger header__burger_saved",onClick:d})]}):Object(n.jsxs)("header",{className:u?"header header__activeBurger":"header",style:o||l?{backgroundColor:"transparent"}:{display:"flex"},children:[Object(n.jsx)("h2",{className:"header__title",children:"NewsExplorer"}),Object(n.jsx)(g,{loginIn:t,handleLogout:a,handleSavedNewsPage:s,savedNews:c,handleMainPage:r,handlePopupLogin:i,openBurger:u,userName:j}),Object(n.jsx)("div",{className:u?"header__burger_active header__burger":"header__burger",onClick:d})]})};a(45),a(46);var f=function(e){var t=e.CheckText,a=e.searchNews,c=Object(s.useState)(""),r=Object(j.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(!1),d=Object(j.a)(l,2),u=d[0],p=d[1];return Object(n.jsx)("div",{className:"search-form",children:Object(n.jsxs)("form",{className:"search-form__container",onSubmit:function(e){e.preventDefault(),t(i),a(i)},children:[Object(n.jsx)("input",{className:"searh-form__input",id:"searh-form",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",onChange:function(e){o(e.target.value)},onFocus:function(){p(!0)},onBlur:function(){p(!1)}}),Object(n.jsx)("button",{className:u?"searh-form__button searh-form__button_active":"searh-form__button",children:" \u0418\u0441\u043a\u0430\u0442\u044c "})]})})};var x=function(e){var t=e.CheckText,a=e.searchNews;return Object(n.jsxs)("div",{className:"main__container",children:[Object(n.jsx)("h1",{className:"main__title",children:"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"}),Object(n.jsx)("section",{className:"main__subtitle",children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."}),Object(n.jsx)(f,{CheckText:t,searchNews:a})]})},N=(a(47),a.p+"static/media/author.41816173.jpg");var k=function(){return Object(n.jsxs)("div",{className:"about__container",children:[Object(n.jsx)("img",{src:N,alt:"\u0444\u043e\u0442\u043e \u0430\u0432\u0442\u043e\u0440\u0430",className:"about__photo"}),Object(n.jsxs)("div",{className:"about__description",children:[Object(n.jsx)("h2",{className:"about__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0438 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(n.jsxs)("p",{className:"about__text",children:["\u041f\u0440\u0438\u0432\u0435\u0442! \u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442 \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0438 \u044f \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0435\u0440.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0439\u0442\u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u043f\u043e \u0441\u0432\u043e\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u0438 \u043f\u0440\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"\u0414\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f NewsAPI, \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0432\u0445\u043e\u0434\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u043d\u0430 NodeJs \u0441\u0435\u0440\u0432\u0435\u0440.",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"\u0415\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0435, \u043f\u0438\u0448\u0438\u0442\u0435 delendikalexey@gmail.com."]})]})]})},w=(a(48),a.p+"static/media/logo_facebook.8fbf7749.svg"),C=a.p+"static/media/logo_git.b920c00b.svg";var y=function(){return Object(n.jsxs)("div",{className:"footer__container",children:[Object(n.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Supersite, Powered by News API"}),Object(n.jsxs)("div",{className:"footer__links",children:[Object(n.jsxs)("div",{className:"footer__mainLinks",children:[Object(n.jsx)("a",{className:"footer__link",href:"#",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(n.jsx)("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})]}),Object(n.jsxs)("div",{className:"footer__logos",children:[Object(n.jsx)("a",{className:"footer__logoLink_first",href:"https://github.com/Delendik/",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:C,className:"footer__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u0413\u0438\u0442\u0430"})}),Object(n.jsx)("a",{className:"footer__logoLink_last",href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:w,className:"footer__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u0424\u0435\u0439\u0441\u0431\u0443\u043a\u0430"})})]})]})]})},P=a(5);a(49),a(50);var L=function(e){var t=e.id,a=e.title,c=e.text,r=e.date,i=e.source,o=e.link,l=e.image,d=e.marked,u=e.loginIn,p=e.keyword,b=e.handleAddCard,h=e.handleDeleteCard,_=e.savedCards,m=e.handlePopupLogin,O=!1,g=Object(s.useState)(!1),v=Object(j.a)(g,2),f=v[0],x=v[1],N={keyword:p,title:a,text:c,date:r,source:i,link:o,image:l,marked:d},k=new Date(r),w=new Intl.DateTimeFormat("ru",{month:"long",day:"numeric"}).format(k)+", "+new Intl.DateTimeFormat("ru",{year:"numeric"}).format(k);_.map((function(e){return"".concat(e.title,"-").concat(e.source)})).includes(t)&&(O=!0);var C=function(e,t){var a=e.map((function(e){return"".concat(e.title,"-").concat(e.source)==="".concat(t)?e._id:"null"})),n="";return a.forEach((function(e){e&&(n=e)})),n}(_,t);return u?Object(n.jsxs)("div",{className:"card__container",children:[Object(n.jsxs)("div",{className:"card__up",children:[Object(n.jsx)("img",{className:"card__picture",src:l,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"}),Object(n.jsx)("div",{className:O?" card__mark card__marked":"card__mark card__unmarked",onClick:function(){O?h(C):(null===N.image?(N.image="https://photowords.ru/pics_max/images_2636.jpg",b(N)):b(N),O=!O)}})]}),Object(n.jsxs)("div",{className:"card__down",children:[Object(n.jsx)("p",{className:"card__date",children:w}),Object(n.jsx)("h3",{className:"card__title",children:a}),Object(n.jsx)("p",{className:"card__text",children:c}),Object(n.jsx)("a",{className:"card__link",href:o,target:"_blank",rel:"noreferrer",children:i})]})]}):Object(n.jsxs)("div",{className:"card__container",children:[Object(n.jsxs)("div",{className:"card__up",children:[Object(n.jsx)("img",{className:"card__picture",src:l,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"}),Object(n.jsx)("div",{className:"card__saveInfo",style:f?{display:"flex"}:{display:"none"},children:Object(n.jsx)("p",{className:"card__saveTitle",children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u0438"})}),Object(n.jsx)("div",{className:" card__mark card__unmarked",onMouseOver:function(){x(!0)},onMouseOut:function(){x(!1)},onClick:m})]}),Object(n.jsxs)("div",{className:"card__down",children:[Object(n.jsx)("p",{className:"card__date",children:w}),Object(n.jsx)("h3",{className:"card__title",children:a}),Object(n.jsx)("p",{className:"card__text",children:c}),Object(n.jsx)("a",{className:"card__link",href:o,target:"_blank",rel:"noreferrer",children:i})]})]})};a(51);var S=function(e){var t=e._id,a=e.keyword,c=e.title,r=e.text,i=e.date,o=e.source,l=e.link,d=e.image,u=e.handleDeleteCard,p=Object(s.useState)(!1),b=Object(j.a)(p,2),h=b[0],_=b[1];return Object(n.jsxs)("div",{className:"savedCard__container",children:[Object(n.jsxs)("div",{className:"savedCard__up",children:[Object(n.jsx)("div",{className:"savedCard__keyword",children:a}),Object(n.jsx)("img",{className:"card__picture",src:d,alt:"\u043a\u0440\u0442\u0438\u043d\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"}),Object(n.jsx)("div",{className:"savedCard__deleteInfo",style:h?{display:"flex"}:{display:"none"},children:Object(n.jsx)("p",{className:"savedCard__deleteTitle",children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445"})}),Object(n.jsx)("div",{className:"savedCard__trash",onClick:function(){u(t)},onMouseOver:function(){_(!0)},onMouseOut:function(){_(!1)}})]}),Object(n.jsxs)("div",{className:"savedCard__down",children:[Object(n.jsx)("p",{className:"savedCard__date",children:i}),Object(n.jsx)("h3",{className:"savedCard__title",children:c}),Object(n.jsx)("p",{className:"savedCard__text",children:r}),Object(n.jsx)("a",{className:"savedCard__link",href:l,target:"_blank",rel:"noreferrer",children:o})]})]})};a(52);var I=function(e){var t=e.onClick;return Object(n.jsx)("button",{className:"moreCardsButton__container",onClick:t,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"})};var E=function(e){var t=e.displayCard,a=e.loginIn,c=e.savedNews,r=e.cards,i=e.token,o=e.savedCards,l=e.handleDeleteCard,d=e.handleAddCard,u=e.handlePopupLogin,p=Object(s.useState)(3),b=Object(j.a)(p,2),h=b[0],_=b[1],m=r.slice(0,h);return c?o.length<1?Object(n.jsx)(n.Fragment,{}):Object(n.jsx)("div",{className:"newCardList__container newCardList__container_saved",children:Object(n.jsx)("ul",{className:"newCardList__table newCardList__table_saved",children:o.map((function(e){return Object(n.jsx)(S,Object(P.a)(Object(P.a)({},e),{},{loginIn:a,savedNews:c,token:i,savedCards:o,handleDeleteCard:l}),"".concat(e.title,"-").concat(e.source))}))})}):m<1?Object(n.jsx)("div",{className:"newCardList__container newCardList__emptyList",style:t?{display:"block"}:{display:"none"},children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(n.jsxs)("div",{className:"newCardList__container",style:t?{display:"block"}:{display:"none"},children:[Object(n.jsx)("h2",{className:"newCardList__title",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(n.jsx)("ul",{className:"newCardList__table",children:m.map((function(e){return Object(n.jsx)(L,Object(P.a)(Object(P.a)({},e),{},{loginIn:a,token:i,handleAddCard:d,handleDeleteCard:l,savedCards:o,handlePopupLogin:u}),"".concat(e.title,"-").concat(e.source))}))}),Object(n.jsx)(I,{onClick:function(){_(h+3)}})]})},D=a(27),R=function(e){var t=e.loginIn,a=Object(D.a)(e,["loginIn"]),c=a.handlePopupLogin,r=Object(p.g)();return Object(s.useEffect)((function(){t||"/saved-news"!==r.pathname?n.Fragment:c()}),[]),t?Object(n.jsx)(p.b,Object(P.a)({},a)):Object(n.jsx)(p.a,{to:"/"})};a(53);var M=function(e){var t=e.number,a=e.userName,c=e.savedCards,r=Object(s.useState)([]),i=Object(j.a)(r,2),o=i[0],l=i[1],d=c.map((function(e){return e.keyword})).reduce((function(e,t){return null==e[t]?e[t]=1:++e[t],e}),[]),u=Object.keys(d).sort((function(e,t){return d[e]-d[t]})).reverse();return Object(s.useEffect)((function(){Object.keys(d).length<4?l(u.join(", ")):l(u.slice(0,2).join(", "))}),[]),Object(n.jsxs)("div",{className:"savedNewsHeader__container",children:[Object(n.jsx)("h2",{className:"savedNewsHeader__title",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(n.jsxs)("h3",{className:"savedNewsHeader__subtitle",children:[a,", \u0443 \u0432\u0430\u0441 ",t," \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0435\u0439"]}),Object(n.jsxs)("p",{className:"savedNewsHeader__about",children:["\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c: ",Object(n.jsxs)("span",{className:"savedNewsHeader__info",children:[o," ",Object.keys(d).length>3?"\u0438 ".concat(Object.keys(d).length-2,"-\u043c \u0434\u0440\u0443\u0433\u0438\u043c"):null]})," "]})]})},T=a(10);a(54),a(55);var A=function(e){var t=e.name,a=e.width,s=e.active,c=e.handleSubmit;return Object(n.jsx)("button",{className:"submit-button",style:{width:a},onClick:c,disabled:s?"":"disabled",children:t})};var B=function(e){var t=e.title,a=e.buttonName,s=e.childrenLink,c=e.closePopup,r=e.children,i=e.active,o=e.error,l=e.handleSubmit,d=e.handleChange;return Object(n.jsxs)("div",{className:"popup",children:[Object(n.jsx)("div",{className:"popup__overlay",onClick:c}),Object(n.jsxs)("div",{className:"popup__container",children:[Object(n.jsx)("h3",{className:"popup__title",children:t}),Object(n.jsxs)("form",{className:"popup__form",onSubmit:l,children:[Object(n.jsx)("p",{className:"popup__label",children:"Email"}),Object(n.jsx)("input",{type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",className:"popup__input",id:"email-input",name:"email",required:!0,minLength:"2",maxLength:"30",autoComplete:"off",onChange:d}),Object(n.jsx)("span",{className:"popup__input_error",id:"email-input-error",children:o.email}),Object(n.jsx)("p",{className:"popup__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(n.jsx)("input",{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",className:"popup__input",id:"password-input",name:"password",required:!0,minLength:"2",maxLength:"30",autoComplete:"off",onChange:d}),Object(n.jsx)("span",{className:"popup__input_error",id:"password-input-error",children:o.password}),r,Object(n.jsx)(A,{name:a,width:"358px",active:i,handleSubmit:l})]}),s,Object(n.jsx)("button",{className:"popup__close",onClick:c})]})]})};a(56);var F=function(e){var t=e.isOpenLogin,a=e.handlePopupRegister,c=e.closePopup,r=e.onLogin,i=Object(s.useState)({email:"",password:""}),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(s.useState)(!1),p=Object(j.a)(u,2),b=p[0],h=p[1],_=Object(s.useState)(""),m=Object(j.a)(_,2),O=m[0],g=m[1];return Object(n.jsx)("div",{className:t?"login__container login__container_opened":"login__container",children:Object(n.jsx)(B,{title:"\u0412\u0445\u043e\u0434",buttonName:"\u0412\u043e\u0439\u0442\u0438",childrenLink:Object(n.jsxs)("p",{className:"login__beforeLink",children:["\u0438\u043b\u0438 ",Object(n.jsx)("button",{className:"login__link",onClick:a,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})," "]}),closePopup:c,nameField:!0,active:b,handleSubmit:function(e){e.preventDefault();var t=l.email,a=l.password;r({email:t,password:a})},handleChange:function(e){var t=e.target,a=t.name,n=t.value;d(Object(P.a)(Object(P.a)({},l),{},Object(T.a)({},a,n))),g(Object(P.a)(Object(P.a)({},O),{},Object(T.a)({},a,e.target.validationMessage))),h(e.target.closest("form").checkValidity())},error:O})})};a(57);var J=function(e){var t=e.handlePopupLogin,a=e.isOpenRegister,c=e.closePopup,r=e.onRegister,i=Object(s.useState)({email:"",password:"",name:""}),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(s.useState)(!1),p=Object(j.a)(u,2),b=p[0],h=p[1],_=Object(s.useState)(""),m=Object(j.a)(_,2),O=m[0],g=m[1],v=function(e){var t=e.target,a=t.name,n=t.value;return d(Object(P.a)(Object(P.a)({},l),{},Object(T.a)({},a,n))),g(Object(P.a)(Object(P.a)({},O),{},Object(T.a)({},a,e.target.validationMessage))),h(e.target.closest("form").checkValidity()),h},f=function(){var e=l.email,t=l.password,a=l.name;e.value="",t.value="",a.value=""};return Object(n.jsx)("div",{className:a?"register__container register__container_opened":"register__container",children:Object(n.jsx)(B,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",buttonName:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",childrenLink:Object(n.jsxs)("p",{className:"register__beforeLink",children:["\u0438\u043b\u0438 ",Object(n.jsx)("button",{className:"register__link",onClick:t,children:"\u0412\u043e\u0439\u0442\u0438"})," "]}),closePopup:c,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{className:"popup__label",children:"\u0418\u043c\u044f"}),Object(n.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",className:"popup__input",id:"name-input",name:"name",required:!0,minLength:"2",maxLength:"30",onChange:v}),Object(n.jsx)("span",{className:"popup__input_error",id:"name-input-error",children:O.name})]}),active:b,handleSubmit:function(e){e.preventDefault();var t=l.email,a=l.password,n=l.name;r({email:t,password:a,name:n,updateForm:f})},handleChange:v,error:O})})};a(58);var z=function(e){var t=e.closePopup,a=e.handlePopupLogin,s=e.successRegister;return Object(n.jsxs)("div",{className:s?"popupRegister popupRegister_opened":"popupRegister",children:[Object(n.jsx)("div",{className:"popupRegister__overlay",onClick:t}),Object(n.jsxs)("div",{className:"popupRegister__container",children:[Object(n.jsx)("h3",{className:"popupRegister__title",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d!"}),Object(n.jsx)("button",{className:"popupRegister__link",onClick:a,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(n.jsx)("button",{className:"popupRegister__close",onClick:t})]})]})};a(59);var H=function(e){var t=e.text,a=e.closePopup,s=e.successError;return Object(n.jsxs)("div",{className:s?"popupError popupError_opened":"popupError",children:[Object(n.jsx)("div",{className:"popupError__overlay",onClick:a}),Object(n.jsxs)("div",{className:"popupError__container",children:[Object(n.jsx)("h3",{className:"popupError__title",children:t}),Object(n.jsx)("button",{className:"popupError__close",onClick:a})]})]})};a(60);var q=function(e){var t=e.loadind;return Object(n.jsx)("div",{className:t?"preloader__container preloader__container_visible":"preloader__container",id:"preloader",children:Object(n.jsx)("i",{className:"circle-preloader"})})},G=a(25),V=a(26),Y=new(function(){function e(t){var a=t.url,n=t.key,s=t.headers;Object(G.a)(this,e),this.url=a,this.key=n,this.headers=s}return Object(V.a)(e,[{key:"getCards",value:function(e,t,a){var n=this;return fetch("".concat(this.url,"q=").concat(e,"&from=").concat(t,"&to=").concat(a,"&pageSize=100&sortBy=publishedAt&apiKey=").concat(this.key),{headers:this.headers}).then((function(e){return n._getResponseData(e)})).then((function(t){return t.articles.map((function(t){return{id:"".concat(t.title,"-").concat(t.source.name),keyword:e,title:t.title,text:t.description,date:t.publishedAt,source:t.source.name,link:t.url,image:t.urlToImage}}))}))}},{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())({url:"https://nomoreparties.co/news/v2/everything?",key:"5774a0ce0b504886884ae989b91d8fe0",headers:{"Content-Type":"application/json"}}),K="jwt",Q="http://api.delendiknews.students.nomoredomains.icu",U=function(e){var t=e.email,a=e.password;return fetch("".concat(Q,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})}).then((function(e){return e.ok?e.json():Promise.reject({status:e.status})})).then((function(e){return e.token?(t=e.token,localStorage.setItem(K,t),e):void 0;var t}))},W=c.a.createContext(),X=function(){return JSON.parse(localStorage.getItem("CARD"))};var Z=function(){var e=Object(s.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),o=i[0],b=i[1],h=Object(s.useState)(!1),_=Object(j.a)(h,2),m=_[0],O=_[1],g=Object(s.useState)(!1),f=Object(j.a)(g,2),N=f[0],w=f[1],C=Object(s.useState)(!1),P=Object(j.a)(C,2),L=P[0],S=P[1],I=Object(s.useState)(!1),D=Object(j.a)(I,2),T=D[0],A=D[1],B=Object(s.useState)(!1),G=Object(j.a)(B,2),V=G[0],Z=G[1],$=X()?X():[],ee=Object(s.useState)($),te=Object(j.a)(ee,2),ae=te[0],ne=te[1],se=Object(s.useState)($.length>1),ce=Object(j.a)(se,2),re=ce[0],ie=ce[1],oe=Object(s.useState)(!1),le=Object(j.a)(oe,2),de=le[0],ue=le[1],je=Object(s.useState)([]),pe=Object(j.a)(je,2),be=pe[0],he=pe[1],_e=Object(s.useState)(""),me=Object(j.a)(_e,2),Oe=me[0],ge=me[1],ve=Object(s.useState)(""),fe=Object(j.a)(ve,2),xe=fe[0],Ne=fe[1],ke=Object(p.f)(),we=function(){var e=localStorage.getItem(K);if(e)return e},Ce=we();Object(s.useEffect)((function(){we()}),[]),Object(s.useEffect)((function(){(function(e){return fetch("".concat(Q,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject({status:e.status})}))})(Ce).then((function(e){e&&(c(!0),ge(e),ke.push("/"))})).catch((function(e){401===e.status?console.log("\u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435 \u0432 \u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435"):console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435")})),function(e){return fetch("".concat(Q,"/articles"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject({status:e.status})}))}(Ce).then((function(e){e&&he(e)})).catch((function(e){401===e.status?console.log("\u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435 \u0432 \u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435"):console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435")}))}),[a]);var ye=new Date,Pe=ye.getFullYear()+"-"+(ye.getMonth()+1)+"-"+ye.getDate(),Le=new Date;Le.setDate(Le.getDate()-7);var Se=Le.getFullYear()+"-"+(Le.getMonth()+1)+"-"+Le.getDate();Object(s.useEffect)((function(){window.onbeforeunload=function(){!function(e){localStorage.setItem("CARD",JSON.stringify(e))}(ae)}}));var Ie=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),e.prev=1,e.next=4,Y.getCards(t,Se,Pe);case 4:a=e.sent,n=Object(d.a)(new Map(a.map((function(e){return[e.id,e]}))).values()),ne(n),ie(!0),Ne(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.prev=14,ue(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){A(!T)},De=function(){c(!1),b(!1),localStorage.removeItem(K)},Re=function(){b(!0),A(!1)},Me=function(){b(!1)},Te=function(){O(!0),w(!1),S(!1)},Ae=function(){O(!1),w(!1),S(!1),Z(!1)},Be=function(e){(function(e,t){return fetch("".concat(Q,"/articles/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.ok?e.json():Promise.reject({status:e.status})}))})(Ce,e).then((function(){var t=be.filter((function(t){return t._id!==e}));he(t)})).catch((function(e){console.log(e)}))};return Object(s.useEffect)((function(){var e=function(e){"Escape"===e.code&&Ae()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(n.jsx)(W.Provider,{value:Oe,children:Object(n.jsx)("div",{className:"page",children:Object(n.jsxs)("div",{className:"page__container",children:[Object(n.jsx)(q,{loadind:de}),Object(n.jsx)(H,{text:"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e",closePopup:Ae,successError:V}),Object(n.jsx)(F,{isOpenLogin:m,handlePopupRegister:function(){w(!0),O(!1)},closePopup:Ae,onClick:function(){c(!0),O(!1),S(!1)},onLogin:function(e){var t=e.email,a=e.password;ue(!0),U({email:t,password:a}).then((function(e){c(!0),O(!1),we(),S(!1)})).catch((function(e){console.log(e)})).finally(ue(!1))}}),Object(n.jsx)(J,{isOpenRegister:N,handlePopupLogin:Te,closePopup:Ae,onClick:function(){S(!0),w(!1)},onRegister:function(e){var t=e.email,a=e.password,n=e.name;ue(!0),function(e){var t=e.email,a=e.password,n=e.name;return fetch("".concat(Q,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,name:n})}).then((function(e){return e.ok?e.json():Promise.reject({status:e.status})})).then((function(e){return e}))}({email:t,password:a,name:n}).then((function(e){e?(w(!1),S(!0),ke.push("/")):(w(!0),ke.push("/"))})).catch((function(e){w(!0),400===e.status?console.log("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435")})).finally(ue(!1))}}),Object(n.jsx)(z,{closePopup:Ae,successRegister:L,handlePopupLogin:Te}),Object(n.jsx)(p.b,{exact:!0,path:"/",children:Object(n.jsxs)("div",{className:"page__background_main",children:[Object(n.jsx)(v,{loginIn:a,handleLogout:De,savedNews:o,handleSavedNewsPage:Re,handlePopupLogin:Te,handleMainPage:Me,isOpenLogin:m,isOpenRegister:N,handleClickMenu:Ee,openBurger:T,userName:Oe.name}),Object(n.jsx)(x,{CheckText:function(e){e.length||Z(!0)},searchNews:Ie}),Object(n.jsx)(E,{displayCard:re,loginIn:a,cards:ae,token:Ce,keyword:xe,savedCards:be,handleAddCard:function(e){(function(e,t){return fetch("".concat(Q,"/articles"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():Promise.reject({status:e.status})}))})(Ce,e).then((function(e){he([].concat(Object(d.a)(be),[e]))}))},handleDeleteCard:Be,handlePopupLogin:Te}),Object(n.jsx)(k,{})]})}),Object(n.jsxs)(R,{path:"/saved-news",loginIn:a,handlePopupLogin:Te,children:[Object(n.jsx)(v,{loginIn:a,savedNews:o,handleLogout:De,handleSavedNewsPage:Re,handleMainPage:Me,isOpenLogin:m,isOpenRegister:N,handleClickMenu:Ee,openBurger:T,userName:Oe.name}),Object(n.jsx)(M,{number:be.length,userName:Oe.name,savedCards:be}),Object(n.jsx)(E,{displayCard:re,loginIn:a,cards:ae,token:Ce,savedNews:o,savedCards:be,handleDeleteCard:Be})]}),Object(n.jsx)(y,{})]})})})};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(m.a,{children:Object(n.jsx)(Z,{})})}),document.getElementById("root"))}]),[[61,1,2]]]);
//# sourceMappingURL=main.78f5013f.chunk.js.map